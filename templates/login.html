{% extends "layout.html" %}

{% block head %}
<title>PÃ¡gina de Login</title>
{% endblock %}

{% block body %}
    <div class="login-form">
        <form action="/login" method="post" enctype="multipart/form-data">
            <h2 class="text-center">Fazer login</h2>
            <div class="form-group">
                <output id="show_image"></output>
            </div>

            <div class="form-group">
                <div class="custom-file">
                    <input type="file" class="custom-file-input"  placeholder="file" name="file" id="file_input" required="required" accept=".jpg, .png, .jpeg, .gif, .bmp, .tif, .tiff|image/*">
                    <label class="custom-file-label" for="customFile">Escolher digital</label>
                 </div>
            </div>

            <div class="form-group">
                <button type="submit" class="btn btn-primary btn-block">Login</button>
            </div>
        </form>
    </div>
    <script type="text/javascript">
        if (window.FileReader) {
            document.getElementById('file_input').addEventListener('change', handleFileSelect, false);

            function handleFileSelect(evt) {
                var files = evt.target.files;
                var f = files[0];
                var reader = new FileReader();

                reader.onload = (function(theFile) {
                    return function(e) {
                        document.getElementById('show_image').innerHTML = ['<img src="', e.target.result, '" title="', theFile.name, '"class="img-fluid rounded" />'].join('');
                    };
                })(f);

                reader.readAsDataURL(f);
            }
        } else {
            alert('This browser does not support FileReader');
        }
    </script>
{% endblock %}
